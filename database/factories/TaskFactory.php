<?php

namespace Database\Factories;

use App\Models\Customer;
use Illuminate\Database\Eloquent\Factories\Factory;

class TaskFactory extends Factory
{
    protected $model = \App\Models\Task::class;

    public function definition(): array
    {
        $faker = \Faker\Factory::create('ru_RU');
        $customer = Customer::factory()->create();

        $taskTitles = [
            'Разработка API',
            'Создание интерфейса',
            'Интеграция с платежной системой',
            'Оптимизация базы данных',
            'Тестирование мобильного приложения',
            'Разработка модуля авторизации',
            'Редизайн главной страницы',
            'Настройка CI/CD пайплайна',
            'Анализ требований',
            'Разработка чат-бота',
            'Интеграция с CRM',
            'Создание дашборда',
            'Оптимизация производительности',
            'Настройка сервера',
            'Разработка модуля отчетов',
            'Тестирование API',
            'Создание landing page',
            'Интеграция с 1С',
            'Разработка системы уведомлений',
            'Аудит безопасности',
            'Разработка модуля поиска',
            'Оптимизация SEO',
            'Создание системы аналитики',
            'Разработка модуля оплаты',
            'Тестирование UX'
        ];

        $descriptions = [
            'Разработка REST API для интеграции с внешними сервисами.',
            'Создание адаптивного интерфейса на React с поддержкой тем.',
            'Интеграция с платежными системами (Stripe, PayPal).',
            'Оптимизация запросов к базе данных PostgreSQL.',
            'Проведение автотестов для мобильного приложения.',
            'Разработка модуля авторизации с поддержкой OAuth2.',
            'Редизайн главной страницы с акцентом на UX.',
            'Настройка CI/CD с использованием GitHub Actions.',
            'Сбор и анализ требований заказчика для нового функционала.',
            'Создание чат-бота для Telegram с интеграцией CRM.',
            'Интеграция с существующей CRM для синхронизации данных.',
            'Разработка дашборда для визуализации KPI.',
            'Оптимизация производительности серверной части приложения.',
            'Настройка облачного сервера на AWS.',
            'Создание модуля генерации отчетов в PDF.',
            'Тестирование API на предмет ошибок и производительности.',
            'Разработка landing page для маркетинговой кампании.',
            'Интеграция с 1С для обмена данными.',
            'Создание системы push-уведомлений для пользователей.',
            'Проведение аудита безопасности веб-приложения.',
            'Разработка модуля поиска с поддержкой фильтров.',
            'Оптимизация SEO для повышения позиций в поисковиках.',
            'Создание системы аналитики с интеграцией Google Analytics.',
            'Разработка модуля оплаты с поддержкой мультивалютности.',
            'Проведение UX-тестирования для улучшения интерфейса.'
        ];

        return [
            'title' => $faker->randomElement($taskTitles),
            'description' => $faker->randomElement($descriptions),
            'customer_id' => $customer->id,
            'max_projects' => $faker->numberBetween(1, 5),
            'max_members' => $faker->numberBetween(1, 10),
            'deadline' => $faker->dateTimeBetween('now', '+1 month'),
            'complexity_id' => null,
            'created_at' => now(),
            'updated_at' => now(),
        ];
    }
}
